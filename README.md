# SuperSub - æ™ºèƒ½è®¢é˜…è½¬æ¢ä¸ç®¡ç†å¹³å°

SuperSub æ˜¯ä¸€ä¸ªæ„å»ºåœ¨ Cloudflare ç”Ÿæ€ç³»ç»Ÿä¸Šçš„å…¨æ ˆåº”ç”¨ç¨‹åºï¼Œæ—¨åœ¨æä¾›å¼ºå¤§è€Œçµæ´»çš„ä»£ç†è®¢é˜…è½¬æ¢å’Œç®¡ç†åŠŸèƒ½ã€‚å®ƒå…è®¸ç”¨æˆ·èšåˆã€å¤„ç†å’Œåˆ†å‘é€‚ç”¨äºä¸åŒå®¢æˆ·ç«¯çš„å®šåˆ¶åŒ–é…ç½®æ–‡ä»¶ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **å¤šåè®®æ”¯æŒ**ï¼šé€šè¿‡çµæ´»çš„èŠ‚ç‚¹è§£æå™¨ï¼Œæ”¯æŒä»å„ç§è®¢é˜…æºå¯¼å…¥ä¸åŒåè®®çš„èŠ‚ç‚¹ã€‚
- **è®¢é˜…ç®¡ç†**ï¼šè½»æ¾æ·»åŠ ã€ç®¡ç†å’Œæ›´æ–°å¤šä¸ªè¿œç¨‹è®¢é˜…æºã€‚
- **è§„åˆ™é©±åŠ¨çš„è½¬æ¢**ï¼šåˆ›å»ºå’Œç®¡ç†è®¢é˜…è§„åˆ™ï¼Œä»¥è¿‡æ»¤ã€æ’åºå’Œé‡å‘½åèŠ‚ç‚¹ã€‚
- **å¯å®šåˆ¶çš„é…ç½®æ¨¡æ¿**ï¼šä¸ºä¸åŒçš„ä»£ç†å®¢æˆ·ç«¯ï¼ˆå¦‚ Clashï¼‰åˆ›å»ºå’Œç®¡ç†è¾“å‡ºæ¨¡æ¿ã€‚
- **æµæ°´çº¿å¤„ç†**ï¼šå°†è®¢é˜…ã€è§„åˆ™å’Œæ¨¡æ¿ç»„åˆæˆå¼ºå¤§çš„å¤„ç†æµæ°´çº¿ï¼Œç”Ÿæˆæœ€ç»ˆçš„å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ã€‚
- **å¥åº·æ£€æŸ¥**ï¼šç›‘æ§èŠ‚ç‚¹çŠ¶æ€ï¼Œç¡®ä¿å¯ç”¨æ€§ã€‚
- **ç”¨æˆ·è®¤è¯**ï¼šå®‰å…¨çš„ JWT ç”¨æˆ·è®¤è¯ç³»ç»Ÿã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

- **å‰ç«¯**ï¼š
  - [Vue 3](https://vuejs.org/) (Composition API)
  - [Vite](https://vitejs.dev/)
  - [Naive UI](https://www.naiveui.com/)
  - [Pinia](https://pinia.vuejs.org/)
  - [Tailwind CSS](https://tailwindcss.com/)
- **åç«¯**ï¼š
  - [Cloudflare Workers](https://workers.cloudflare.com/)
  - [Hono](https://hono.dev/)
- **æ•°æ®åº“**ï¼š
  - [Cloudflare D1](https://developers.cloudflare.com/d1/)
- **éƒ¨ç½²**ï¼š
  - [Cloudflare Pages](https://pages.cloudflare.com/)

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

### 1. å…ˆå†³æ¡ä»¶

- [Node.js](https://nodejs.org/) (>= 18.0.0)
- [npm](https://www.npmjs.com/)

### 2. å®‰è£…ä¾èµ–

å…‹éš†é¡¹ç›®åï¼Œåœ¨æ ¹ç›®å½•è¿è¡Œï¼š
```bash
npm install
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

é¦–æ¬¡è¿è¡Œæ—¶ï¼Œæˆ–å½“æ•°æ®åº“ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦åˆå§‹åŒ–æœ¬åœ° D1 æ•°æ®åº“ã€‚
```bash
npm run db:init
```
å¦‚æœé‡åˆ°æ•°æ®åº“ç›¸å…³çš„é”™è¯¯ (ä¾‹å¦‚ `no such table`)ï¼Œå¯ä»¥å°è¯•ç¡¬é‡ç½®ï¼š
```bash
# åˆ é™¤æ—§çš„ Wrangler çŠ¶æ€ (åŒ…æ‹¬ D1 æ•°æ®åº“)
rm -rf .wrangler
# é‡æ–°åˆå§‹åŒ–
npm run db:init
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡

ä¸ºäº†ç¡®ä¿ç¨³å®šï¼Œæ¨èåœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»ˆç«¯ä¸­åˆ†åˆ«å¯åŠ¨åç«¯å’Œå‰ç«¯ã€‚

**- ç»ˆç«¯ 1: å¯åŠ¨åç«¯ (Wrangler)**
```bash
npm run start:backend
```
ç­‰å¾…ç›´åˆ°æ‚¨çœ‹åˆ° `[wrangler] Ready on http://localhost:8789` çš„è¾“å‡ºã€‚

**- ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯ (Vite)**
```bash
npm run start:frontend
```
å‰ç«¯æœåŠ¡å¯åŠ¨åï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:5173`ã€‚

Vite ä¼šè‡ªåŠ¨å°† `/api` è¯·æ±‚ä»£ç†åˆ°è¿è¡Œåœ¨ `8789` ç«¯å£çš„åç«¯æœåŠ¡ã€‚

## ğŸ“œ ä¸»è¦ NPM è„šæœ¬

- `npm run start:frontend`: ä»…å¯åŠ¨ Vite å‰ç«¯å¼€å‘æœåŠ¡å™¨ã€‚
- `npm run start:backend`: ä»…å¯åŠ¨ Wrangler åç«¯å¼€å‘æœåŠ¡å™¨ã€‚
- `npm run db:init`: åˆå§‹åŒ–æœ¬åœ° D1 æ•°æ®åº“ã€‚
- `npm run build`: æ„å»ºç”¨äºç”Ÿäº§ç¯å¢ƒçš„å‰ç«¯åº”ç”¨ã€‚
